
/*
  * Licensed to the Apache Software Foundation (ASF) under one
  * or more contributor license agreements.  See the NOTICE file
  * distributed with this work for additional information
  * regarding copyright ownership.  The ASF licenses this file
  * to you under the Apache License, Version 2.0 (the
  * "License"); you may not use this file except in compliance
  * with the License.  You may obtain a copy of the License at
  *
  *     http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */

import{v as x,U as E,s as F,D as U,C as k,V as B,a7 as V,a3 as L,o as l,f as d,z as v,y as G,c as u,i as m,F as D,l as N,a5 as q,h as b,b as S,ad as P,az as $,H as T,a1 as H,af as K,aA as M,I as W,G as J,a2 as a}from"./index-Cv3Z2rcY.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{u as Q}from"./usePlaceholder-3EuNseZp.js";const X={class:"config-properties"},Y={key:0},Z={class:"config-header g-flex"},ee={class:"td g-flex-ac"},te={class:"td g-flex-ac bd-left"},ce=x({__name:"Properties",props:{propertiesObj:{},isEdit:{type:Boolean}},setup(e,{expose:r}){const{t:s}=E(),n=e,I=F([{dataIndex:"key",title:s("key"),width:284,ellipsis:!0},{dataIndex:"value",title:s("value"),ellipsis:!0}]),f=U(),o=k({data:[]}),_=k(Q()),g=B(()=>n.isEdit);V(()=>n.propertiesObj,()=>{C()},{immediate:!0,deep:!0});function C(){o.data.length=0,Object.keys(n.propertiesObj).forEach(t=>{o.data.push({key:t,value:n.propertiesObj[t],uuid:$()})})}function O(t){const i=o.data.indexOf(t);i!==-1&&o.data.splice(i,1)}function R(){o.data.push({key:"",value:"",uuid:$()})}return r({getPropertiesWithoputValidation(){const t={};return o.data.forEach(i=>{t[i.key]=i.value}),Promise.resolve(t)},getProperties(){return f.value.validateFields().then(()=>{const t={};return o.data.forEach(i=>{t[i.key]=i.value}),Promise.resolve(t)}).catch(()=>!1)}}),L(()=>{}),(t,i)=>{const h=W,z=J,w=T,j=H,A=K;return l(),d("div",X,[g.value?(l(),d("div",Y,[v("div",Z,[v("div",ee,G(t.$t("key")),1),v("div",te,G(t.$t("value")),1)]),u(w,{ref_key:"propertiesFormRef",ref:f,model:o,class:"g-mt-12"},{default:m(()=>[(l(!0),d(D,null,N(o.data,(p,y)=>(l(),d("div",{class:"config-row",key:p.uuid},[u(z,{name:["data",y,"key"],rules:[{required:!0,message:`${t.$t(_.inputPh)}`}],class:"g-mr-8"},{default:m(()=>[u(h,{value:p.key,"onUpdate:value":c=>p.key=c,style:{width:"100%"}},null,8,["value","onUpdate:value"])]),_:2},1032,["name","rules"]),u(z,{name:["data",y,"value"],rules:[{required:!0,message:`${t.$t(_.inputPh)}`}]},{default:m(()=>[u(h,{value:p.value,"onUpdate:value":c=>p.value=c,style:{width:"100%"}},null,8,["value","onUpdate:value"])]),_:2},1032,["name","rules"]),u(P(M),{class:"icon-close",onClick:c=>O(p)},null,8,["onClick"])]))),128))]),_:1},8,["model"]),u(j,{class:"config-btn",onClick:R},{default:m(()=>[q("+")]),_:1})])):b("",!0),g.value?b("",!0):(l(),S(A,{key:1,rowKey:"uuid",columns:P(I),"data-source":o.data,pagination:!1},null,8,["columns","data-source"]))])}}});function de(e){const{optimizerGroup:r,page:s,pageSize:n}=e;return a.get(`ams/v1/optimize/optimizerGroups/${r}/tables`,{params:{page:s,pageSize:n}})}function me(e){const{optimizerGroup:r,page:s,pageSize:n}=e;return a.get(`ams/v1/optimize/optimizerGroups/${r}/optimizers`,{params:{page:s,pageSize:n}})}function ve(e){const{optimizerGroup:r,parallelism:s}=e;return a.post(`ams/v1/optimize/optimizerGroups/${r}/optimizers`,{parallelism:s})}function fe(e){const{optimizerGroup:r,jobId:s}=e;return a.delete(`ams/v1/optimize/optimizerGroups/${r}/optimizers/${s}`)}async function _e(){return await a.get("ams/v1/optimize/resourceGroups")}const ge=async()=>await a.get("ams/v1/optimize/containers/get"),he=e=>a.post("ams/v1/optimize/resourceGroups",e),ze=e=>a.put("ams/v1/optimize/resourceGroups",e),ye=e=>a.get(`/ams/v1/optimize/resourceGroups/${e.name}/delete/check`),ke=e=>a.delete(`/ams/v1/optimize/resourceGroups/${e.name}`);export{ce as _,me as a,ye as b,ke as c,de as d,ge as e,he as f,_e as g,fe as r,ve as s,ze as u};
